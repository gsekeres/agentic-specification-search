# Specification Surface Review: 128521-V1

**Paper**: "Recessions, Mortality, and Migration Bias: Evidence from the Lancashire Cotton Famine" (Beach & Hanlon)
**Design**: Difference-in-differences (TWFE, 2-period district panel)
**Review date**: 2026-02-25

---

## Summary of Baseline Groups

### G1: Total Mortality (Table 2)
- **Claim**: Cotton Famine increased mortality in cotton-dependent districts relative to non-cotton districts.
- **Baseline specs**: Table 2 Cols 1-3 (binary treatment `cotton_dist_post`). Col 1 is minimal (no controls), Col 2 adds demographics + region x period FE, Col 3 adds nearby spillover rings.
- **Design**: TWFE with district + period FE, population weights, district-clustered SEs. N=538 districts, 2 periods.

### G2: Age-Specific Mortality (Table 3)
- **Claim**: Mortality effects vary by age group (7 age bins).
- **Baseline specs**: 7 parallel DD regressions using the Table 2 Col 3 specification with age-group-specific weights and linkable shares.
- **Design**: Same as G1, with age-specific outcomes and weights.

---

## Changes Made

### 1. Table 2 Col 4 moved from baseline to explore/* (IMPORTANT)

Table 2 Col 4 uses `cotton_eshr_post` (continuous cotton employment share x post) instead of `cotton_dist_post` (binary cotton district x post). This changes the treatment variable and therefore the treatment concept -- it moves from a binary ATT to a dose-response estimand. This is a different claim object.

**Action**: Removed `baseline__table2_col4` from `core_universe.baseline_spec_ids`. Added an `explore_universe` entry: `explore/variable_definitions/treatment/continuous_cotton_eshr`.

### 2. Removed redundant design spec ID

The surface listed `design/difference_in_differences/estimator/twfe` in `design_spec_ids`, but TWFE is already the baseline estimator. For a 2-period DD, alternative heterogeneity-robust estimators (Sun-Abraham, Callaway-SantAnna, etc.) are not applicable since there is no staggered adoption. The design spec was redundant.

**Action**: Set `design_spec_ids` to empty array.

### 3. Added mechanical linkage note to constraints

Population weights (`aweight=pop_census_tot`) and the mortality rate denominator share the same population variable. This means changing weights also changes outcome construction. This is noted in the constraints block.

### 4. Clarified region x period FE generation

Added note that `_IregXpost_*` is generated via Stata's `xi i.region*post` command to make reproduction clearer.

---

## Key Constraints and Linkage Rules

1. **Weights-outcome linkage**: Mortality rate = (linked_deaths / lambda) / (pop / 1000) / 5. The population weight variable `pop_census_tot` is the same as the denominator of the outcome. The `rc/weights/unweighted` variant breaks this linkage (drops weights but keeps the outcome denominator).
2. **Lambda scaling**: Linked death rates are inflated by lambda (linked/aggregate death ratio). Data construction variants (linking restrictions) change lambda and therefore the outcome level. Each linking variant recomputes lambda from scratch (confirmed in AppendixD1.do Table 9 code).
3. **Region x period FE**: Treated as a single conceptual block for LOO purposes. Generated by `xi i.region*post`.
4. **Nearby rings**: `nearby_post_25/50/75` are part of the treatment specification (spatial spillover controls), not standard covariates. LOO over the ring block is a meaningful RC.
5. **No bundled estimators**: Single-equation OLS via `reghdfe`. No linked adjustment constraints.

---

## Budget and Sampling Assessment

### G1 Budget (80 max):
- 3 baselines (Col 1, 2, 3) + 5 LOO controls + 2 sample exclusions + 1 unweighted + 1 no-foreign-born + 6 linking restrictions = **18 core specs**
- Well within 80 budget. Full enumeration feasible.

### G2 Budget (30 max):
- 7 age groups x (1 baseline + 2 RC) = **21 core specs**
- Within 30 budget. Full enumeration feasible.

---

## What's Missing

1. **County-level clustering results from Table 2**: The code runs county-clustered regressions for all 4 columns. These are captured as inference variants but could be more explicitly enumerated for each baseline spec.
2. **Table 5 (aggregate vs linked comparison)**: Correctly excluded as explore/* since it compares death assignment methods, not treatment effects. No action needed.
3. **AppendixD3 BMD results**: The BMD-based DD results (Tables 11-13) use a different death record source. The placebo test is correctly listed as a diagnostic. The main BMD results could be added as `rc/data/bmd_source` if desired, but the current surface reasonably excludes them since BMD data require a fundamentally different data pipeline.
4. **No LOO over individual age-share variables**: The surface groups `under_15_shr_census` and `elderly_shr_census` into a single `rc/controls/loo/age_shares` block. The code includes them as separate variables but they are conceptually related. This is a reasonable simplification.

---

## Approved to Run

**Status**: APPROVED

The surface is well-constructed. The key change was moving the continuous-treatment specification (Col 4) out of the baseline group, since it changes the treatment concept. The remaining core universe is clean, the RC axes are appropriate for the design, and the budgets are adequate for full enumeration.
